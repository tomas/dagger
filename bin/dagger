require 'dagger'

method = ARGV[0] or abort "Usage: dagger [method] [url] [data]"

if ARGV[1].nil?
  method = 'get'
  url = method
end

def parse_data(str)
  {} # not ready yet.
end

options = {
  :follow => true
}

resp = Dagger.send(method, url, parse_data, options)

puts resp.status
# puts resp.headers
puts resp.data
